"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7698],{3593:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var a=t(4848),s=t(8453);const r={sidebar_position:1},i="Neo4j",o={id:"databases/neo4j",title:"Neo4j",description:"One of the original graph databases.",source:"@site/docs/databases/neo4j.md",sourceDirName:"databases",slug:"/databases/neo4j",permalink:"/docs/docs/databases/neo4j",draft:!1,unlisted:!1,editUrl:"https://github.com/nodesteram-proj/docs/tree/main/packages/create-docusaurus/templates/shared/docs/databases/neo4j.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Database Support",permalink:"/docs/docs/category/database-support"},next:{title:"Amazon Neptune",permalink:"/docs/docs/databases/neptune"}},d={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Pre-requisites",id:"pre-requisites",level:2},{value:"Recommended Deployment Patterns",id:"recommended-deployment-patterns",level:2},{value:"Compatibility Matrix",id:"compatibility-matrix",level:2},{value:"Configuration Options",id:"configuration-options",level:2},{value:"Example Configurations",id:"example-configurations",level:3},{value:"Database Specifics",id:"database-specifics",level:2},{value:"Importing Data",id:"importing-data",level:3},{value:"Database Migrations",id:"database-migrations",level:3},{value:"Reloading Credentials",id:"reloading-credentials",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"neo4j",children:"Neo4j"}),"\n",(0,a.jsx)(n.p,{children:"One of the original graph databases."}),"\n",(0,a.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,a.jsx)(n.p,{children:"Neo4j is a graph database management system developed by Neo4j, Inc.\nNeo4j is a graph database management system developed by Neo4j, Inc.\nDescribed by its developers as an ACID-compliant transactional database with native graph storage and processing, Neo4j is the most popular graph database according to DB-Engines ranking, and the 22nd most popular database overall."}),"\n",(0,a.jsxs)(n.p,{children:["Nodestream uses the official ",(0,a.jsx)(n.a,{href:"https://neo4j.com/docs/getting-started/languages-guides/neo4j-python/",children:"Python Neo4j driver"})," to connect to Neo4j databases."]}),"\n",(0,a.jsx)(n.h2,{id:"pre-requisites",children:"Pre-requisites"}),"\n",(0,a.jsxs)(n.p,{children:["To use Neo4j with Nodestream, you'll need to have a Neo4j database running and accessible from your Nodestream project.\nAdditionally, you'll need to have the ",(0,a.jsx)(n.a,{href:"https://neo4j.com/labs/apoc/",children:"APOC library"})," installed in your Neo4j database.\nInternally, Nodestream uses the APOC library to perform various operations on the database, such as batch importing data."]}),"\n",(0,a.jsx)(n.h2,{id:"recommended-deployment-patterns",children:"Recommended Deployment Patterns"}),"\n",(0,a.jsx)(n.p,{children:"There are two primary ways to deploy Neo4j."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"https://console.neo4j.io",children:"Neo4j Aura"})," is a fully managed DBaaS offering that makes it easy to get started with Neo4j without managing infrastructure. There are several different tiers available, but you can get started for free ",(0,a.jsx)(n.a,{href:"https://console.neo4j.io",children:"here"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Self managed Neo4j is available to ",(0,a.jsx)(n.a,{href:"https://neo4j.com/deployment-center/",children:"download"})," and install on the infrastructure of your choosing. Community Edition is free to download and use, and Enterprise Edition requires a commercial license. The ",(0,a.jsx)(n.a,{href:"https://neo4j.com/docs/operations-manual/current/installation/",children:"Neo4j Documentation"})," outlines the various ways to deploy and run self-managed neo4j (including Kubernetes, Docker, Cloud Marketplaces, etc.)","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Additionally, AWS CloudFormation is a service provided by Amazon Web Services that enables users to model and manage infrastructure resources in an automated and secure manner. ",(0,a.jsx)(n.a,{href:"https://github.com/neo4j-partners/amazon-cloud-formation-neo4j/tree/main",children:"These templates"})," can be used to deploy Neo4j in your own AWS account."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"compatibility-matrix",children:"Compatibility Matrix"}),"\n",(0,a.jsx)(n.p,{children:"Nodestream has been tested with the following versions of Neo4j:"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Nodestream Feature"}),(0,a.jsx)(n.th,{children:"Neo4j Version"}),(0,a.jsx)(n.th,{children:"Supported"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"nodestream copy"})}),(0,a.jsx)(n.td,{children:"4.4.X"}),(0,a.jsx)(n.td,{children:"\u2705"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"nodestream copy"})}),(0,a.jsx)(n.td,{children:"5.X.Y"}),(0,a.jsx)(n.td,{children:"\u2705"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"nodestream run"})}),(0,a.jsx)(n.td,{children:"4.4.X"}),(0,a.jsx)(n.td,{children:"\u2705"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"nodestream run"})}),(0,a.jsx)(n.td,{children:"5.X.Y"}),(0,a.jsx)(n.td,{children:"\u2705"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"nodestream migrations run"})}),(0,a.jsx)(n.td,{children:"4.4.X"}),(0,a.jsx)(n.td,{children:"\u2705"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"nodestream migrations run"})}),(0,a.jsx)(n.td,{children:"5.X.Y"}),(0,a.jsx)(n.td,{children:"\u2705"})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,a.jsxs)(n.p,{children:["These configuration values are available for the Neo4j database and can be set in the ",(0,a.jsx)(n.code,{children:"nodestream.yml"})," file in your ",(0,a.jsx)(n.code,{children:"targets"})," section."]}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Key"}),(0,a.jsx)(n.th,{children:"Description"}),(0,a.jsx)(n.th,{children:"Required"}),(0,a.jsx)(n.th,{children:"Default"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"uri"})}),(0,a.jsx)(n.td,{children:"The URI of the Neo4j database."}),(0,a.jsx)(n.td,{children:"\u2705"}),(0,a.jsx)(n.td,{children:"N/A"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"username"})}),(0,a.jsx)(n.td,{children:"The username to use when connecting to the Neo4j database."}),(0,a.jsx)(n.td,{children:"\u2705"}),(0,a.jsx)(n.td,{children:"N/A"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"password"})}),(0,a.jsx)(n.td,{children:"The password to use when connecting to the Neo4j database."}),(0,a.jsx)(n.td,{children:"\u2705"}),(0,a.jsx)(n.td,{children:"N/A"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"database_name"})}),(0,a.jsx)(n.td,{children:"The name of the database to connect to."}),(0,a.jsx)(n.td,{children:"\u274c"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"neo4j"})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"use_enterprise_features"})}),(0,a.jsx)(n.td,{children:"Whether to use enterprise features of Neo4j."}),(0,a.jsx)(n.td,{children:"\u274c"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"false"})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:'"arbitrary values"'}),(0,a.jsxs)(n.td,{children:["Any other values that are valid for the ",(0,a.jsx)(n.a,{href:"https://neo4j.com/docs/getting-started/languages-guides/neo4j-python/",children:"Python Neo4j driver"})," can be set here."]}),(0,a.jsx)(n.td,{children:"\u274c"}),(0,a.jsx)(n.td,{children:"N/A"})]})]})]}),"\n",(0,a.jsx)(n.h3,{id:"example-configurations",children:"Example Configurations"}),"\n",(0,a.jsx)(n.p,{children:"(1) A simple configuration for a local Neo4j database using Enterprise features and a custom database name:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"targets:\n  my_neo4j_target:\n    database: neo4j\n    uri: bolt://localhost:7687\n    username: my_username\n    password: my_password\n    database_name: my_database\n    use_enterprise_features: true\n"})}),"\n",(0,a.jsx)(n.p,{children:"(2) A more complex configuration for a remote Neo4j database using a custom driver arguments:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"targets:\n  my_neo4j_target:\n    database: neo4j\n    uri: neo4j+s://my-neo4j-instance:7687\n    username: my_username\n    password: my_password\n    database_name: my_database\n    max_connection_lifetime: 3600\n    max_connection_pool_size: 50\n"})}),"\n",(0,a.jsx)(n.h2,{id:"database-specifics",children:"Database Specifics"}),"\n",(0,a.jsx)(n.h3,{id:"importing-data",children:"Importing Data"}),"\n",(0,a.jsx)(n.p,{children:"Nodestream uses the APOC library to perform batch importing of data into Neo4j databases.\nIt uses a set of highly optimized Cypher queries to perform the import that are executed in parallel to maximize throughput."}),"\n",(0,a.jsx)(n.h3,{id:"database-migrations",children:"Database Migrations"}),"\n",(0,a.jsx)(n.p,{children:"This database supports migrations.\nMigrations are used to create indexes and constraints on the database and maintain a consistent schema."}),"\n",(0,a.jsxs)(n.p,{children:["As part of the migration process, the migrator will create ",(0,a.jsx)(n.code,{children:"__NodestreamMigration__"})," nodes in the database.\nThis node will have a name property that is set to the name of the migration.\nAdditionally, the plugin will create a ",(0,a.jsx)(n.code,{children:"__NodestreamMigrationLock__"})," node in the database.\nThis node will be exit when the migration process is running and will be deleted when the migration process is complete.\nThis is used to prevent multiple migration processes from running at the same time."]}),"\n",(0,a.jsx)(n.h3,{id:"reloading-credentials",children:"Reloading Credentials"}),"\n",(0,a.jsxs)(n.p,{children:["You may wish to implement a mechanism to reload credentials from the environment variables or a secret manager at runtime.\nTo do this, you can use the ",(0,a.jsx)(n.code,{children:"!delayed"})," tag in the ",(0,a.jsx)(n.code,{children:"nodestream.yml"})," file to delay the evaluation of the value until runtime."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"targets:\n  my-target:\n    database: neo4j \n    uri: bolt://localhost:7687\n    username: !delayed \n      value: !env MY_NEO4J_USERNAME\n    password: !delayed\n      value: !env MY_NEO4J_PASSWORD\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var a=t(6540);const s={},r=a.createContext(s);function i(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);